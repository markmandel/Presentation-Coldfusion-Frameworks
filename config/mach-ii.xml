<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mach-ii PUBLIC "-//Mach-II//DTD Mach-II Configuration 1.6.0//EN"
	"http://www.mach-ii.com/dtds/mach-ii_1_6_0.dtd" >

<mach-ii version="1.6">

	<!-- PROPERTIES -->
	<properties>
		<property name="applicationRoot" value="/" />
		<property name="defaultEvent" value="index" />
		<property name="eventParameter" value="event" />
		<property name="parameterPrecedence" value="form" />
		<property name="maxEvents" value="10" />
		<property name="exceptionEvent" value="exception" />
	</properties>

	<!-- LISTENERS -->
	<listeners>
		<listener name="Todo" type="listeners.TodoListener"/>
	</listeners>
	
	<!-- MESSAGE SUBSCRIBERS -->
	<message-subscribers>
	</message-subscribers>
	
	<!-- EVENT-FILTERS -->
	<event-filters>
	</event-filters>

	<!-- PLUGINS -->
	<plugins>
	</plugins>

	<!-- EVENT-HANDLERS -->
	<event-handlers>
		<event-handler event="index" access="public">
			<notify listener="Todo" method="listTodos" resultArg="list" />
			<view-page name="index" />
		</event-handler>
		
		<event-handler event="addTodo" access="public">
			<notify listener="Todo" method="saveTodo" />
			<announce event="index"/>
		</event-handler>
		
		<event-handler event="deleteTodo" access="public">
			<notify listener="Todo" method="deleteTodo" />
			<announce event="index"/>
		</event-handler>
		
		<event-handler event="exception" access="private">
			<view-page name="exception" />
		</event-handler>
	</event-handlers>
	
	<!-- SUBROUTINES -->
	<subroutines>
	</subroutines>
	
	<!-- PAGE-VIEWS -->
	<page-views>
		<page-view name="index" page="/views/index.cfm" />
		<page-view name="exception" page="/views/exception.cfm" />
	</page-views>
	
</mach-ii>